@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Base colors - Deep charcoal instead of pure black for better contrast */
    --bg: 222 25% 8%;              /* #0F1014 - Slightly lighter dark */
    --surface: 222 22% 12%;         /* #1A1C24 - Cards/panels */
    --surface-2: 222 20% 16%;       /* #242730 - Elevated surfaces */
    --border: 0 0% 100% / 0.08;     /* Subtle white border */

    /* Text - High contrast whites and grays */
    --text: 0 0% 98%;               /* #FAFAFA - Primary text (bright white) */
    --text-secondary: 0 0% 70%;     /* #B3B3B3 - Secondary text (readable gray) */
    --text-muted: 0 0% 50%;         /* #808080 - Muted text */

    /* Accent colors - Use SPARINGLY */
    --accent-cyan: 188 100% 50%;    /* #00E5FF - Primary actions */
    --accent-magenta: 330 80% 51%;  /* #E11D84 - Secondary actions */
    --accent-purple: 270 70% 60%;   /* #9D5CFF - Tertiary */

    /* Legacy hex values for compatibility */
    --accent: #E11D84;      /* magenta */
    --cyan: #00E5FF;        /* electric cyan */

    /* Semantic colors */
    --success: 152 69% 39%;         /* Green */
    --warning: 38 92% 50%;          /* Amber */
    --error: 0 84% 60%;             /* Red */
    --info: 217 91% 60%;            /* Blue */

    /* Glow intensities - REDUCED */
    --glow-subtle: 0 0 8px;
    --glow-medium: 0 0 16px;
    --glow-strong: 0 0 24px;

    /* Gradients */
    --gradient-cyan: 188 100% 50%;
    --gradient-magenta: 330 80% 51%;
    --gradient-primary: linear-gradient(135deg, #00E5FF 0%, #E11D84 100%);

    /* Shadcn compatibility - updated for better contrast */
    --background: 222 25% 8%;
    --foreground: 0 0% 98%;
    --card: 222 22% 12%;
    --card-foreground: 0 0% 98%;
    --popover: 222 22% 12%;
    --popover-foreground: 0 0% 98%;
    --primary: 188 100% 50%;        /* Cyan as primary */
    --primary-foreground: 222 25% 8%;
    --secondary: 222 20% 16%;
    --secondary-foreground: 0 0% 98%;
    --muted: 222 20% 16%;
    --muted-foreground: 0 0% 70%;
    --accent: 330 80% 51%;          /* Magenta as accent */
    --accent-foreground: 0 0% 98%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;
    --input: 222 20% 20%;
    --ring: 188 100% 50%;
    --radius: 0.75rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
  }
}

@layer utilities {
  /* Text hierarchy - high contrast */
  .text-primary {
    color: hsl(var(--text));
  }

  .text-secondary {
    color: hsl(var(--text-secondary));
  }

  .text-muted {
    color: hsl(var(--text-muted));
  }

  /* Gradient utilities */
  .gradient-text {
    background: linear-gradient(135deg, #00E5FF, #E11D84);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .gradient-text-cyan {
    background: linear-gradient(135deg, #00E5FF, #26D4FF);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .gradient-text-magenta {
    background: linear-gradient(135deg, #E11D84, #F563A7);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .gradient-text-cyan-magenta {
    background: linear-gradient(135deg, hsl(var(--accent-cyan)), hsl(var(--accent-magenta)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Reduced glow effects */
  .glow-subtle {
    box-shadow: var(--glow-subtle) hsl(var(--accent-cyan) / 0.3);
  }

  .glow-cyan {
    box-shadow: var(--glow-medium) hsl(var(--accent-cyan) / 0.4);
  }

  .glow-magenta {
    box-shadow: var(--glow-medium) hsl(var(--accent-magenta) / 0.4);
  }

  .glow-cyan-strong {
    box-shadow: var(--glow-strong) hsl(var(--accent-cyan) / 0.5);
  }

  .glow-magenta-strong {
    box-shadow: var(--glow-strong) hsl(var(--accent-magenta) / 0.5);
  }

  .gradient-bg {
    background: linear-gradient(135deg, #00E5FF 0%, #E11D84 100%);
  }

  .gradient-bg-vertical {
    background: linear-gradient(180deg, #00E5FF 0%, #E11D84 100%);
  }

  .gradient-border {
    position: relative;
    border: 2px solid transparent;
    background-clip: padding-box;
  }

  .gradient-border::before {
    content: '';
    position: absolute;
    top: -2px; right: -2px; bottom: -2px; left: -2px;
    background: linear-gradient(135deg, #00E5FF, #E11D84);
    border-radius: inherit;
    z-index: -1;
  }

  /* Glass morphism */
  .glass {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .glass-strong {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  /* Transitions */
  .transition-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .transition-fast {
    transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .transition-slow {
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Touch targets (minimum 44x44px for accessibility) */
  .touch-target {
    min-width: 44px;
    min-height: 44px;
  }

  /* Scrollbar styling */
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: rgba(225, 29, 132, 0.3);
    border-radius: 10px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: rgba(225, 29, 132, 0.5);
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-none {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  /* Snap scrolling (for feed) */
  .snap-y {
    scroll-snap-type: y mandatory;
    -webkit-overflow-scrolling: touch;
  }

  .snap-start {
    scroll-snap-align: start;
  }

  .snap-center {
    scroll-snap-align: center;
  }

  /* Safe area insets for mobile */
  .safe-area-inset-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-inset-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-inset-right {
    padding-right: env(safe-area-inset-right);
  }
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Full-height root so h-screen sections behave on mobile */
html, body, #root { height: 100%; background: #000; }

/* Optional: visually hide scrollbar in the feed (still scrollable) */
.tiktok-feed::-webkit-scrollbar { width: 0; height: 0; }
.tiktok-feed { scrollbar-width: none; }

/* Crisp text & tap feel */
* { -webkit-tap-highlight-color: transparent; }


/* --- DJ visuals --- */
@keyframes spin-slower {
  from { transform: rotate(0deg) }
  to { transform: rotate(360deg) }
}
.spin-slower { animation: spin-slower 6s linear infinite; }

/* Active deck glow */
.deck--active {
  box-shadow: 0 0 0 1px var(--accent), 0 0 24px 2px rgba(225, 29, 132, 0.25) inset;
}

/* Sleek sliders */
input[type="range"] {
  appearance: none;
  -webkit-appearance: none;
  height: 4px;
  background: #1E1E2A;
  border-radius: 999px;
  cursor: pointer;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  height: 14px;
  width: 14px;
  border-radius: 999px;
  background: var(--accent);
  border: 2px solid #000;
  cursor: pointer;
}

input[type="range"]::-moz-range-thumb {
  height: 14px;
  width: 14px;
  border-radius: 999px;
  background: var(--accent);
  border: 2px solid #000;
  cursor: pointer;
}

/* Library hover actions */
.lib-row .actions {
  opacity: 0;
  transition: opacity 0.15s;
}

.lib-row:hover .actions {
  opacity: 1;
}

body { background: var(--bg); }

/* --- Vinyl Player Animations --- */
@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.animate-spin-slow {
  animation: spin-slow 3s linear infinite;
}

@keyframes pulse-slow {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.02); }
}

.animate-pulse-slow {
  animation: pulse-slow 2s ease-in-out infinite;
}

@keyframes audio-bar {
  0%, 100% { height: 20%; }
  50% { height: 80%; }
}

.animate-audio-bar {
  animation: audio-bar 0.8s ease-in-out infinite;
}
